{% extends 'base.html' %}

{% block content %}
<h1>Piezas de cerámica</h1>

{% if user.is_authenticated %}
<div style="margin-bottom: 20px;">
    <a href="{% url 'crear_pieza' %}" style="
            background-color: #d9bfa3;
            color: #4b2e2e;
            padding: 10px 18px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
            display: inline-block;">
        + Agregar nueva pieza
    </a>
</div>
{% endif %}

{% if piezas %}
<ul>
    {% for pieza in piezas %}
    <li style="margin-bottom: 40px;">
        <h2>{{ pieza.titulo }}</h2>
        <p><strong>Técnica:</strong> {{ pieza.tecnica }}</p>
        <p>{{ pieza.descripcion|safe }}</p>
        {% if pieza.imagen %}
        <img src="{{ pieza.imagen.url }}" alt="{{ pieza.titulo }}" style="max-width:200px;">
        {% endif %}
        <div style="margin-top: 10px;">
            <a href="{% url 'detalle_pieza' pieza.pk %}">Leer más</a>
        
            {% if user.is_authenticated %}
            |
            <a href="{% url 'borrar_pieza' pieza.pk %}" style="color: red;"
                onclick="return confirm('¿Seguro que querés borrar esta pieza?');">Borrar</a>
            {% endif %}  </div>
    </li>
    {% endfor %}
</ul>
{% else %}
<p>No hay páginas aún.</p>
{% endif %}

{% endblock %}